<!DOCTYPE html><html class="default" lang="en" data-base="."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Karya JavaScript Client - v1.1.0</title><meta name="description" content="Documentation for Karya JavaScript Client"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">Karya JavaScript Client - v1.1.0</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>Karya JavaScript Client - v1.1.0</h1></div><div class="tsd-panel tsd-typography"><a id="karya-javascript-client" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Karya Javascript Client<a href="#karya-javascript-client" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>This here is the Javascript client to interract with <a href="https://github.com/Saumya-Bhatt/karya">Karya - the open sourced distributed job scheduler</a></p>
<ul>
<li><a href="https://saumya-bhatt.github.io/karya-javascript-client">API Docs</a></li>
<li><a href="media/CONTRIBUTING.md">How to contribute</a></li>
</ul>
<hr>
<a id="getting-started" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Getting Started<a href="#getting-started" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This section highlights the steps to get started with the Karya Python client.</p>
<a id="installation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="shell"><span class="hl-0">    </span><span class="hl-1">npm</span><span class="hl-0"> </span><span class="hl-2">install</span><span class="hl-0"> </span><span class="hl-2">karya-client</span>
</code><button type="button">Copy</button></pre>

<p>The distribution files can also be found here - <a href="https://github.com/Saumya-Bhatt/karya-javascript-client/releases">Github Release</a>.</p>
<a id="useage-examples" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Useage Examples<a href="#useage-examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>A list of samples to configure different plans with various actions and hooks can be found <a href="./samples/">here</a></p>
<a id="using-the-client" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Using the Client<a href="#using-the-client" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ol>
<li>
<p>Create a config object:</p>
<pre><code class="javascript"><span class="hl-0"> </span><span class="hl-3">import</span><span class="hl-0"> { </span><span class="hl-4">ClientConfig</span><span class="hl-0"> } </span><span class="hl-3">from</span><span class="hl-0"> </span><span class="hl-2">&#39;karya-client/client/config.js&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-0">## </span><span class="hl-4">point</span><span class="hl-0"> </span><span class="hl-5">this</span><span class="hl-0"> </span><span class="hl-4">to</span><span class="hl-0"> </span><span class="hl-4">where</span><span class="hl-0"> </span><span class="hl-4">the</span><span class="hl-0"> </span><span class="hl-4">Karya</span><span class="hl-0"> </span><span class="hl-4">server</span><span class="hl-0"> </span><span class="hl-4">is</span><span class="hl-0"> </span><span class="hl-4">running</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">config</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-1">ClientConfig</span><span class="hl-0">({</span><br/><span class="hl-0">    </span><span class="hl-4">protocol:</span><span class="hl-0"> </span><span class="hl-2">&#39;HTTP&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-4">host:</span><span class="hl-0"> </span><span class="hl-2">&#39;localhost&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-4">port:</span><span class="hl-0"> </span><span class="hl-7">8080</span><br/><span class="hl-0">});</span><br/><br/><span class="hl-0">## </span><span class="hl-4">For</span><span class="hl-0"> </span><span class="hl-4">localsetup</span><span class="hl-0">, </span><span class="hl-4">a</span><span class="hl-0"> </span><span class="hl-3">default</span><span class="hl-0"> </span><span class="hl-4">config</span><span class="hl-0"> </span><span class="hl-4">is</span><span class="hl-0"> </span><span class="hl-4">provided</span><span class="hl-0"> </span><span class="hl-8">as</span><span class="hl-0">: </span><span class="hl-4">ClientConfig</span><span class="hl-0">.</span><span class="hl-1">dev</span><span class="hl-0">()</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p>Create a client object:</p>
<pre><code class="javascript"><span class="hl-0"> </span><span class="hl-3">import</span><span class="hl-0"> { </span><span class="hl-4">KaryaRestClient</span><span class="hl-0"> } </span><span class="hl-3">from</span><span class="hl-0"> </span><span class="hl-2">&#39;karya-client/client/karya-rest-client.js&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-0"> </span><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">client</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-1">KaryaRestClient</span><span class="hl-0">(</span><span class="hl-4">config</span><span class="hl-0">);</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p>Creat a user. Only a user configured in the Karya server can be used to create a client object.</p>
<pre><code class="javascript"><span class="hl-3">import</span><span class="hl-0"> { </span><span class="hl-4">CreateUserRequest</span><span class="hl-0"> } </span><span class="hl-3">from</span><span class="hl-0"> </span><span class="hl-2">&#39;karya-client/client/requests.js&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">create_user_request</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-1">CreateUserRequest</span><span class="hl-0">({</span><span class="hl-4">name:</span><span class="hl-0"> </span><span class="hl-2">&quot;javascript-client&quot;</span><span class="hl-0">});</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">user</span><span class="hl-0"> = </span><span class="hl-3">await</span><span class="hl-0"> </span><span class="hl-4">client</span><span class="hl-0">.</span><span class="hl-1">create_user</span><span class="hl-0">(</span><span class="hl-4">create_user_request</span><span class="hl-0">);</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p>Specify the action that you would want to trigger once the task is scheduled.</p>
<pre><code class="javascript"><span class="hl-3">import</span><span class="hl-0"> { </span><span class="hl-4">RestApiRequest</span><span class="hl-0"> } </span><span class="hl-3">from</span><span class="hl-0"> </span><span class="hl-2">&#39;karya-client/entities/actions.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-3">import</span><span class="hl-0"> { </span><span class="hl-4">Protocol</span><span class="hl-0">, </span><span class="hl-4">Method</span><span class="hl-0"> } </span><span class="hl-3">from</span><span class="hl-0"> </span><span class="hl-2">&#39;karya-client/entities/constants.js&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">restAction</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-1">RestApiRequest</span><span class="hl-0">(</span><br/><span class="hl-2">&#39;localhost&#39;</span><span class="hl-0">, </span><span class="hl-9">// The base URL for the REST API request</span><br/><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-4">RestApiRequest</span><span class="hl-0">.</span><span class="hl-1">JsonBody</span><span class="hl-0">({ </span><span class="hl-4">message:</span><span class="hl-0"> </span><span class="hl-2">&#39;Hello from typescript client&#39;</span><span class="hl-0"> }), </span><span class="hl-9">// JSON body for the request</span><br/><span class="hl-4">Protocol</span><span class="hl-0">.</span><span class="hl-6">HTTPS</span><span class="hl-0">, </span><span class="hl-9">// The protocol to be used for the request (HTTPS)</span><br/><span class="hl-4">Method</span><span class="hl-0">.</span><span class="hl-6">POST</span><span class="hl-0">, </span><span class="hl-9">// The HTTP method to be used (POST)</span><br/><span class="hl-0">{ </span><span class="hl-2">&#39;content-type&#39;</span><span class="hl-4">:</span><span class="hl-0"> </span><span class="hl-2">&#39;application/json&#39;</span><span class="hl-0"> }, </span><span class="hl-9">// HTTP headers for the request</span><br/><span class="hl-7">2000</span><span class="hl-0">, </span><span class="hl-9">// Timeout for the request in milliseconds (2 seconds)</span><br/><span class="hl-0">);</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p>Submit the plan to Karya.</p>
<blockquote>
<p><code>period_time</code> has to be in the <a href="https://en.wikipedia.org/wiki/ISO_8601#Durations">ISO 8601</a> format.</p>
</blockquote>
<pre><code class="javascript"><span class="hl-0"> </span><span class="hl-3">import</span><span class="hl-0"> { </span><span class="hl-4">SubmitPlanRequest</span><span class="hl-0"> } </span><span class="hl-3">from</span><span class="hl-0"> </span><span class="hl-2">&#39;karya-client/client/requests.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-0"> </span><span class="hl-3">import</span><span class="hl-0"> { </span><span class="hl-4">Recurring</span><span class="hl-0"> } </span><span class="hl-3">from</span><span class="hl-0"> </span><span class="hl-2">&#39;karya-client/entities/plan-types.js&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">request</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-1">SubmitPlanRequest</span><span class="hl-0">(</span><br/><span class="hl-0">     </span><span class="hl-4">user</span><span class="hl-0">.</span><span class="hl-4">id</span><span class="hl-0">, </span><span class="hl-9">// The user ID for the plan</span><br/><span class="hl-0">     </span><span class="hl-2">&#39;recurring api plan&#39;</span><span class="hl-0">, </span><span class="hl-9">// The description of the plan</span><br/><span class="hl-0">     </span><span class="hl-2">&#39;PT7S&#39;</span><span class="hl-0">, </span><span class="hl-9">// The period time (in ISO 8601 duration format) for the recurring plan</span><br/><span class="hl-0">     </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-1">Recurring</span><span class="hl-0">(</span><span class="hl-4">Date</span><span class="hl-0">.</span><span class="hl-1">now</span><span class="hl-0">() + </span><span class="hl-7">10000</span><span class="hl-0">), </span><span class="hl-9">// Recurring plan type with an end date 10 seconds from now</span><br/><span class="hl-0">     </span><span class="hl-4">restAction</span><span class="hl-0">, </span><span class="hl-9">// The REST API action to be executed</span><br/><span class="hl-0"> );</span><br/><span class="hl-0"> </span><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">plan</span><span class="hl-0"> = </span><span class="hl-3">await</span><span class="hl-0"> </span><span class="hl-4">client</span><span class="hl-0">.</span><span class="hl-1">submitPlan</span><span class="hl-0">(</span><span class="hl-4">request</span><span class="hl-0">);</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p>And you're done! The plan will be executed as per the schedule:</p>
<ul>
<li>The action will be triggered every 7 seconds.</li>
<li>The action will make a POST request to <code>localhost</code> with the JSON body <code>{&quot;message&quot;: &quot;Hello from python client&quot;}</code></li>
<li>The request will have a timeout of 2 seconds.</li>
</ul>
</li>
</ol>
<hr>
<a id="plan-type" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Plan Type<a href="#plan-type" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Karya supports the following plan types:</p>
<a id="one-time" class="tsd-anchor"></a><h3 class="tsd-anchor-link">One Time<a href="#one-time" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>This can be used to trigger a delayed action.</p>
<pre><code class="javascript"><span class="hl-3">import</span><span class="hl-0"> { </span><span class="hl-4">OneTime</span><span class="hl-0"> } </span><span class="hl-3">from</span><span class="hl-0"> </span><span class="hl-2">&#39;karya-client&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">oneTime</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-1">OneTime</span><span class="hl-0">();</span>
</code><button type="button">Copy</button></pre>

<a id="recurring" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Recurring<a href="#recurring" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>This can be used to trigger an action at regular intervals.</p>
<pre><code class="javascript"><span class="hl-3">import</span><span class="hl-0"> { </span><span class="hl-4">Recurring</span><span class="hl-0"> } </span><span class="hl-3">from</span><span class="hl-0"> </span><span class="hl-2">&#39;karya-client&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">recurring</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-1">Recurring</span><span class="hl-0">(</span><span class="hl-4">Date</span><span class="hl-0">.</span><span class="hl-1">now</span><span class="hl-0">() + </span><span class="hl-7">10000</span><span class="hl-0">);</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="actions" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Actions<a href="#actions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Actions define what Karya should do once it has to execute the plan. The client supports the following actions:</p>
<a id="rest-api-request" class="tsd-anchor"></a><h3 class="tsd-anchor-link">REST API Request<a href="#rest-api-request" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Make a REST API request to a specified URL with the given parameters.</p>
<pre><code class="javascript"><span class="hl-3">import</span><span class="hl-0"> { </span><span class="hl-4">RestApiRequest</span><span class="hl-0">, </span><span class="hl-4">Protocol</span><span class="hl-0">, </span><span class="hl-4">Method</span><span class="hl-0"> } </span><span class="hl-3">from</span><span class="hl-0"> </span><span class="hl-2">&#39;karya-client&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">restAction</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-1">RestApiRequest</span><span class="hl-0">(</span><br/><span class="hl-0">    </span><span class="hl-2">&#39;localhost&#39;</span><span class="hl-0">, </span><span class="hl-9">// The base URL for the REST API request</span><br/><span class="hl-0">    </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-4">RestApiRequest</span><span class="hl-0">.</span><span class="hl-1">JsonBody</span><span class="hl-0">({ </span><span class="hl-4">message:</span><span class="hl-0"> </span><span class="hl-2">&#39;Hello from typescript client&#39;</span><span class="hl-0"> }), </span><span class="hl-9">// JSON body for the request</span><br/><span class="hl-0">    </span><span class="hl-4">Protocol</span><span class="hl-0">.</span><span class="hl-6">HTTPS</span><span class="hl-0">, </span><span class="hl-9">// The protocol to be used for the request (HTTPS)</span><br/><span class="hl-0">    </span><span class="hl-4">Method</span><span class="hl-0">.</span><span class="hl-6">POST</span><span class="hl-0">, </span><span class="hl-9">// The HTTP method to be used (POST)</span><br/><span class="hl-0">    { </span><span class="hl-2">&#39;content-type&#39;</span><span class="hl-4">:</span><span class="hl-0"> </span><span class="hl-2">&#39;application/json&#39;</span><span class="hl-0"> }, </span><span class="hl-9">// HTTP headers for the request</span><br/><span class="hl-0">    </span><span class="hl-7">2000</span><span class="hl-0">, </span><span class="hl-9">// Timeout for the request in milliseconds (2 seconds)</span><br/><span class="hl-0">);</span>
</code><button type="button">Copy</button></pre>

<a id="push-to-kafka" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Push to Kafka<a href="#push-to-kafka" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Push a message to a Kafka topic.</p>
<pre><code class="javascript"><span class="hl-3">import</span><span class="hl-0"> { </span><span class="hl-4">KafkaProducerRequest</span><span class="hl-0"> } </span><span class="hl-3">from</span><span class="hl-0"> </span><span class="hl-2">&#39;karya-client&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">kafkaAction</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-1">KafkaProducerRequest</span><span class="hl-0">(</span><br/><span class="hl-0">    </span><span class="hl-2">&#39;kafka-topic&#39;</span><span class="hl-0">, </span><span class="hl-9">// The Kafka topic to push the message to</span><br/><span class="hl-0">    </span><span class="hl-2">&#39;Hello from typescript client&#39;</span><span class="hl-0">, </span><span class="hl-9">// The message to be pushed</span><br/><span class="hl-0">);</span>
</code><button type="button">Copy</button></pre>

<a id="send-email" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Send Email<a href="#send-email" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Send an email to a specified email address.</p>
<pre><code class="javascript"><span class="hl-3">import</span><span class="hl-0"> { </span><span class="hl-4">EmailRequest</span><span class="hl-0"> } </span><span class="hl-3">from</span><span class="hl-0"> </span><span class="hl-2">&#39;karya-client&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">emailAction</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-1">EmailRequest</span><span class="hl-0">(</span><br/><span class="hl-0">    </span><span class="hl-2">&#39;receipient@email.com&#39;</span><span class="hl-0">, </span><span class="hl-9">// The recipient&#39;s email address</span><br/><span class="hl-0">    </span><span class="hl-2">&#39;Hello from karya typescript client&#39;</span><span class="hl-0">, </span><span class="hl-9">// The subject of the email</span><br/><span class="hl-0">    </span><span class="hl-2">&#39;Hello&#39;</span><span class="hl-0">, </span><span class="hl-9">// The body of the email</span><br/><span class="hl-0">);</span>
</code><button type="button">Copy</button></pre>

<a id="send-a-slack-message" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Send a Slack Message<a href="#send-a-slack-message" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Send a message to a specified Slack channel.</p>
<pre><code class="javascript"><span class="hl-3">import</span><span class="hl-0"> { </span><span class="hl-4">SlackMessage</span><span class="hl-0"> } </span><span class="hl-3">from</span><span class="hl-0"> </span><span class="hl-2">&#39;karya-client&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">slackAction</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-1">SlackMessage</span><span class="hl-0">(</span><br/><span class="hl-0">    </span><span class="hl-2">&#39;slack-channel&#39;</span><span class="hl-0">, </span><span class="hl-9">// The Slack channel to send the message to</span><br/><span class="hl-0">    </span><span class="hl-2">&#39;Hello from typescript client&#39;</span><span class="hl-0">, </span><span class="hl-9">// The message to be sent</span><br/><span class="hl-0">);</span>
</code><button type="button">Copy</button></pre>

<a id="chain-another-job" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Chain another job<a href="#chain-another-job" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Chain another job to the current job.</p>
<pre><code class="javascript"><span class="hl-3">import</span><span class="hl-0"> { </span><span class="hl-4">ChainedRequest</span><span class="hl-0">  } </span><span class="hl-3">from</span><span class="hl-0"> </span><span class="hl-2">&#39;karya-client&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">chained_action</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-1">ChainedRequest</span><span class="hl-0">(</span><br/><span class="hl-0">  </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-1">SubmitPlanRequest</span><span class="hl-0">(</span><br/><span class="hl-0">    </span><span class="hl-4">user</span><span class="hl-0">.</span><span class="hl-4">id</span><span class="hl-0">, </span><span class="hl-9">// The ID of the user for whom the plan is being created</span><br/><span class="hl-0">    </span><span class="hl-2">&#39;recurring api plan&#39;</span><span class="hl-0">, </span><span class="hl-9">// A description of the plan</span><br/><span class="hl-0">    </span><span class="hl-2">&#39;PT7S&#39;</span><span class="hl-0">, </span><span class="hl-9">// The period time (7 seconds)</span><br/><span class="hl-0">    </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-1">Recurring</span><span class="hl-0">(</span><span class="hl-4">Date</span><span class="hl-0">.</span><span class="hl-1">now</span><span class="hl-0">() + </span><span class="hl-7">10000</span><span class="hl-0">), </span><span class="hl-9">// The plan type (Recurring), with an end time in 10 seconds</span><br/><span class="hl-0">    </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-1">RestApiRequest</span><span class="hl-0">(</span><span class="hl-2">&#39;eox7wbcodh9parh.m.pipedream.net&#39;</span><span class="hl-0">), </span><span class="hl-9">// The action for the plan (sending an API request)</span><br/><span class="hl-0">  ),</span><br/><span class="hl-0">);</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="hooks" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Hooks<a href="#hooks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="javascript"><span class="hl-3">import</span><span class="hl-0"> { </span><span class="hl-4">Hook</span><span class="hl-0">, </span><span class="hl-4">HookType</span><span class="hl-0"> } </span><span class="hl-3">from</span><span class="hl-0"> </span><span class="hl-2">&#39;karya-client&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">hook</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-1">Hook</span><span class="hl-0">(</span><br/><span class="hl-0">    </span><span class="hl-4">HookType</span><span class="hl-0">.</span><span class="hl-6">ON_FAILURE</span><span class="hl-0">, </span><span class="hl-9">// The type of hook (ON_FAILURE)</span><br/><span class="hl-0">    </span><span class="hl-4">restAction</span><span class="hl-0">, </span><span class="hl-9">// The action to be triggered</span><br/><span class="hl-0">);</span>
</code><button type="button">Copy</button></pre>

<p>Hooks are used to trigger actions on certain triggers. The client supports the following hooks:</p>
<ul>
<li><code>ON_FAILURE</code>: Trigger an action when the plan fails.</li>
<li><code>ON_COMPLETION</code>: Trigger an action when the plan completes successfully.</li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#karya-javascript-client"><span>Karya <wbr/>Javascript <wbr/>Client</span></a><ul><li><a href="#getting-started"><span>Getting <wbr/>Started</span></a></li><li><ul><li><a href="#installation"><span>Installation</span></a></li><li><a href="#useage-examples"><span>Useage <wbr/>Examples</span></a></li><li><a href="#using-the-client"><span>Using the <wbr/>Client</span></a></li></ul></li><li><a href="#plan-type"><span>Plan <wbr/>Type</span></a></li><li><ul><li><a href="#one-time"><span>One <wbr/>Time</span></a></li><li><a href="#recurring"><span>Recurring</span></a></li></ul></li><li><a href="#actions"><span>Actions</span></a></li><li><ul><li><a href="#rest-api-request"><span>REST API <wbr/>Request</span></a></li><li><a href="#push-to-kafka"><span>Push to <wbr/>Kafka</span></a></li><li><a href="#send-email"><span>Send <wbr/>Email</span></a></li><li><a href="#send-a-slack-message"><span>Send a <wbr/>Slack <wbr/>Message</span></a></li><li><a href="#chain-another-job"><span>Chain another job</span></a></li></ul></li><li><a href="#hooks"><span>Hooks</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">Karya JavaScript Client - v1.1.0</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
